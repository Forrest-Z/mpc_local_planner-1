base_global_planner: global_planner/GlobalPlanner
base_local_planner: mpc_local_planner/MPC_Local_Planner

planner_frequency: 0
controller_frequency: 10

MPC_Local_Planner:
  controller:
    timeSteps: 10
    sampleTime: 0.1

    reference:
      velocity: 1
      crossTrackError: 0
      orientationError: 0

    maxBounds:
      maxOmega: 1.0
      maxThrottle: 5.0

    weights:
      w_cte: 1000 # 3000
      w_etheta: 3000
      w_vel: 1000 # 1500
      w_omega: 5
      w_acc: 5
      w_omega_d: 10
      w_acc_d: 500

global_costmap:
  global_frame: map

  width: 30.0
  height: 30.0
  origin_x: -15.0
  origin_y: -15.0

  plugins:
    - {name: obstacle_layer, type: "costmap_2d::ObstacleLayer"}
    - {name: inflation_layer, type: "costmap_2d::InflationLayer"}

  obstacle_layer:
    observation_sources: laser_distance_sensor
    laser_distance_sensor: {sensor_frame: laser_link, data_type: LaserScan, topic: scan, marking: true, clearing: true, obstacle_range: 4.5, raytrace_range: 4.5}
  footprint: [[0.85,0], [0.75,0.15], [0.15, 0.28], [0.15, 0.34], [-0.08, 0.34], [-0.15, 0.26], [-0.15, -0.26], [-0.08, -0.34], [0.15, -0.34], [0.15, -0.28], [0.75,-0.15]]
  footprint_padding: 0.05

local_costmap:
  global_frame: odom
  footprint: [[0.85,0], [0.75,0.15], [0.15, 0.28], [0.15, 0.34], [-0.08, 0.34], [-0.15, 0.26], [-0.15, -0.26], [-0.08, -0.34], [0.15, -0.34], [0.15, -0.28], [0.75,-0.15]]
  footprint_padding: 0.05
  rolling_window: true
  plugins:
    - {name: inflation_layer, type: "costmap_2d::InflationLayer"}